parameters:
    # 1. Define the directories where Rector should look for code to fix.
    # IMPORTANT: Setting path to '.' ensures all files in the main folder
    # and all subdirectories are processed recursively.
    paths:
        - .

    # 2. Define the minimum PHP version your code currently runs on. 
    # This helps Rector apply necessary backward compatibility fixes.
    php_version_features: 80400 # Represents PHP 8.4

    # 3. Skip specific files or directories if needed (e.g., vendor, tests/Fixture)
    # By default, it skips vendor and test files, but you can add more here.
    skip:
        # When using paths: [.] it's CRITICAL to skip the vendor directory.
        - "vendor/*" 
        # - "tests/**"
        # - "src/SomeLegacyFile.php"

services:
    # 4. Include the necessary Rectors to upgrade from PHP 7.4 to PHP 8.4.
    # This includes all fixes for 8.0, 8.1, 8.2, 8.3, and 8.4.
    # Rector applies these sequentially, ensuring a smooth path.
    - \Rector\Config\RectorConfig::configure
    - \Rector\Set\ValueObject\SetList::PHP_80 # Added for PHP 7.4 -> 8.0 migration
    - \Rector\Set\ValueObject\SetList::PHP_81
    - \Rector\Set\ValueObject\SetList::PHP_82
    - \Rector\Set\ValueObject\SetList::PHP_83
    - \Rector\Set\ValueObject\SetList::PHP_84
    - \Rector\Set\ValueObject\SetList::CODE_QUALITY
    - \Rector\Set\ValueObject\SetList::DEAD_CODE
